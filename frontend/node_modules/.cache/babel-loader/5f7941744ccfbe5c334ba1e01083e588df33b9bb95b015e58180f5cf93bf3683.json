{"ast":null,"code":"import _objectSpread from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _superPropGet from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/superPropGet.js\";\nimport _inherits from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/inherits.js\";\n// src/infiniteQueryObserver.ts\nimport { QueryObserver } from \"./queryObserver.js\";\nimport { hasNextPage, hasPreviousPage, infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar InfiniteQueryObserver = /*#__PURE__*/function (_QueryObserver) {\n  function InfiniteQueryObserver(client, options) {\n    _classCallCheck(this, InfiniteQueryObserver);\n    return _callSuper(this, InfiniteQueryObserver, [client, options]);\n  }\n  _inherits(InfiniteQueryObserver, _QueryObserver);\n  return _createClass(InfiniteQueryObserver, [{\n    key: \"bindMethods\",\n    value: function bindMethods() {\n      _superPropGet(InfiniteQueryObserver, \"bindMethods\", this, 3)([]);\n      this.fetchNextPage = this.fetchNextPage.bind(this);\n      this.fetchPreviousPage = this.fetchPreviousPage.bind(this);\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      _superPropGet(InfiniteQueryObserver, \"setOptions\", this, 3)([_objectSpread(_objectSpread({}, options), {}, {\n        behavior: infiniteQueryBehavior()\n      })]);\n    }\n  }, {\n    key: \"getOptimisticResult\",\n    value: function getOptimisticResult(options) {\n      options.behavior = infiniteQueryBehavior();\n      return _superPropGet(InfiniteQueryObserver, \"getOptimisticResult\", this, 3)([options]);\n    }\n  }, {\n    key: \"fetchNextPage\",\n    value: function fetchNextPage(options) {\n      return this.fetch(_objectSpread(_objectSpread({}, options), {}, {\n        meta: {\n          fetchMore: {\n            direction: \"forward\"\n          }\n        }\n      }));\n    }\n  }, {\n    key: \"fetchPreviousPage\",\n    value: function fetchPreviousPage(options) {\n      return this.fetch(_objectSpread(_objectSpread({}, options), {}, {\n        meta: {\n          fetchMore: {\n            direction: \"backward\"\n          }\n        }\n      }));\n    }\n  }, {\n    key: \"createResult\",\n    value: function createResult(query, options) {\n      var _state$fetchMeta;\n      var state = query.state;\n      var parentResult = _superPropGet(InfiniteQueryObserver, \"createResult\", this, 3)([query, options]);\n      var isFetching = parentResult.isFetching,\n        isRefetching = parentResult.isRefetching,\n        isError = parentResult.isError,\n        isRefetchError = parentResult.isRefetchError;\n      var fetchDirection = (_state$fetchMeta = state.fetchMeta) === null || _state$fetchMeta === void 0 || (_state$fetchMeta = _state$fetchMeta.fetchMore) === null || _state$fetchMeta === void 0 ? void 0 : _state$fetchMeta.direction;\n      var isFetchNextPageError = isError && fetchDirection === \"forward\";\n      var isFetchingNextPage = isFetching && fetchDirection === \"forward\";\n      var isFetchPreviousPageError = isError && fetchDirection === \"backward\";\n      var isFetchingPreviousPage = isFetching && fetchDirection === \"backward\";\n      var result = _objectSpread(_objectSpread({}, parentResult), {}, {\n        fetchNextPage: this.fetchNextPage,\n        fetchPreviousPage: this.fetchPreviousPage,\n        hasNextPage: hasNextPage(options, state.data),\n        hasPreviousPage: hasPreviousPage(options, state.data),\n        isFetchNextPageError: isFetchNextPageError,\n        isFetchingNextPage: isFetchingNextPage,\n        isFetchPreviousPageError: isFetchPreviousPageError,\n        isFetchingPreviousPage: isFetchingPreviousPage,\n        isRefetchError: isRefetchError && !isFetchNextPageError && !isFetchPreviousPageError,\n        isRefetching: isRefetching && !isFetchingNextPage && !isFetchingPreviousPage\n      });\n      return result;\n    }\n  }]);\n}(QueryObserver);\nexport { InfiniteQueryObserver };","map":{"version":3,"names":["QueryObserver","hasNextPage","hasPreviousPage","infiniteQueryBehavior","InfiniteQueryObserver","_QueryObserver","client","options","_classCallCheck","_callSuper","_inherits","_createClass","key","value","bindMethods","_superPropGet","fetchNextPage","bind","fetchPreviousPage","setOptions","_objectSpread","behavior","getOptimisticResult","fetch","meta","fetchMore","direction","createResult","query","_state$fetchMeta","state","parentResult","isFetching","isRefetching","isError","isRefetchError","fetchDirection","fetchMeta","isFetchNextPageError","isFetchingNextPage","isFetchPreviousPageError","isFetchingPreviousPage","result","data"],"sources":["C:\\Users\\als40\\Desktop\\HandsMarket\\node_modules\\@tanstack\\query-core\\src\\infiniteQueryObserver.ts"],"sourcesContent":["import { QueryObserver } from './queryObserver'\nimport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior,\n} from './infiniteQueryBehavior'\nimport type { Subscribable } from './subscribable'\nimport type {\n  DefaultError,\n  DefaultedInfiniteQueryObserverOptions,\n  FetchNextPageOptions,\n  FetchPreviousPageOptions,\n  InfiniteData,\n  InfiniteQueryObserverBaseResult,\n  InfiniteQueryObserverOptions,\n  InfiniteQueryObserverResult,\n  QueryKey,\n} from './types'\nimport type { QueryClient } from './queryClient'\nimport type { Query } from './query'\n\ntype InfiniteQueryObserverListener<TData, TError> = (\n  result: InfiniteQueryObserverResult<TData, TError>,\n) => void\n\nexport class InfiniteQueryObserver<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = InfiniteData<TQueryFnData>,\n  TQueryKey extends QueryKey = QueryKey,\n  TPageParam = unknown,\n> extends QueryObserver<\n  TQueryFnData,\n  TError,\n  TData,\n  InfiniteData<TQueryFnData, TPageParam>,\n  TQueryKey\n> {\n  // Type override\n  subscribe!: Subscribable<\n    InfiniteQueryObserverListener<TData, TError>\n  >['subscribe']\n\n  // Type override\n  getCurrentResult!: ReplaceReturnType<\n    QueryObserver<\n      TQueryFnData,\n      TError,\n      TData,\n      InfiniteData<TQueryFnData, TPageParam>,\n      TQueryKey\n    >['getCurrentResult'],\n    InfiniteQueryObserverResult<TData, TError>\n  >\n\n  // Type override\n  protected fetch!: ReplaceReturnType<\n    QueryObserver<\n      TQueryFnData,\n      TError,\n      TData,\n      InfiniteData<TQueryFnData, TPageParam>,\n      TQueryKey\n    >['fetch'],\n    Promise<InfiniteQueryObserverResult<TData, TError>>\n  >\n\n  constructor(\n    client: QueryClient,\n    options: InfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ) {\n    super(client, options)\n  }\n\n  protected bindMethods(): void {\n    super.bindMethods()\n    this.fetchNextPage = this.fetchNextPage.bind(this)\n    this.fetchPreviousPage = this.fetchPreviousPage.bind(this)\n  }\n\n  setOptions(\n    options: InfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): void {\n    super.setOptions({\n      ...options,\n      behavior: infiniteQueryBehavior(),\n    })\n  }\n\n  getOptimisticResult(\n    options: DefaultedInfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): InfiniteQueryObserverResult<TData, TError> {\n    options.behavior = infiniteQueryBehavior()\n    return super.getOptimisticResult(options) as InfiniteQueryObserverResult<\n      TData,\n      TError\n    >\n  }\n\n  fetchNextPage(\n    options?: FetchNextPageOptions,\n  ): Promise<InfiniteQueryObserverResult<TData, TError>> {\n    return this.fetch({\n      ...options,\n      meta: {\n        fetchMore: { direction: 'forward' },\n      },\n    })\n  }\n\n  fetchPreviousPage(\n    options?: FetchPreviousPageOptions,\n  ): Promise<InfiniteQueryObserverResult<TData, TError>> {\n    return this.fetch({\n      ...options,\n      meta: {\n        fetchMore: { direction: 'backward' },\n      },\n    })\n  }\n\n  protected createResult(\n    query: Query<\n      TQueryFnData,\n      TError,\n      InfiniteData<TQueryFnData, TPageParam>,\n      TQueryKey\n    >,\n    options: InfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): InfiniteQueryObserverResult<TData, TError> {\n    const { state } = query\n    const parentResult = super.createResult(query, options)\n\n    const { isFetching, isRefetching, isError, isRefetchError } = parentResult\n    const fetchDirection = state.fetchMeta?.fetchMore?.direction\n\n    const isFetchNextPageError = isError && fetchDirection === 'forward'\n    const isFetchingNextPage = isFetching && fetchDirection === 'forward'\n\n    const isFetchPreviousPageError = isError && fetchDirection === 'backward'\n    const isFetchingPreviousPage = isFetching && fetchDirection === 'backward'\n\n    const result: InfiniteQueryObserverBaseResult<TData, TError> = {\n      ...parentResult,\n      fetchNextPage: this.fetchNextPage,\n      fetchPreviousPage: this.fetchPreviousPage,\n      hasNextPage: hasNextPage(options, state.data),\n      hasPreviousPage: hasPreviousPage(options, state.data),\n      isFetchNextPageError,\n      isFetchingNextPage,\n      isFetchPreviousPageError,\n      isFetchingPreviousPage,\n      isRefetchError:\n        isRefetchError && !isFetchNextPageError && !isFetchPreviousPageError,\n      isRefetching:\n        isRefetching && !isFetchingNextPage && !isFetchingPreviousPage,\n    }\n\n    return result as InfiniteQueryObserverResult<TData, TError>\n  }\n}\n\ntype ReplaceReturnType<\n  TFunction extends (...args: Array<any>) => unknown,\n  TReturn,\n> = (...args: Parameters<TFunction>) => TReturn\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}