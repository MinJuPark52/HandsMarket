{"ast":null,"code":"import _regenerator from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\als40\\\\Desktop\\\\HandsMarket\\\\frontend\\\\src\\\\pages\\\\product\\\\comment.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { collection, addDoc, getDocs, query, orderBy, serverTimestamp, deleteDoc, doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"../../firebase/firebaseConfig\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { BeatLoader } from \"react-spinners\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction generateRandomNickname() {\n  var randomNum = Math.floor(Math.random() * 9000) + 1000;\n  return \"User\".concat(randomNum);\n}\nexport default function CommentBox(_ref) {\n  _s();\n  var _this = this;\n  var postId = _ref.postId;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    nickname = _useState2[0],\n    setNickname = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    newComment = _useState4[0],\n    setNewComment = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    editingId = _useState6[0],\n    setEditingId = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    editedText = _useState8[0],\n    setEditedText = _useState8[1];\n  var queryClient = useQueryClient();\n  useEffect(function () {\n    var savedNickname = localStorage.getItem(\"nickname\");\n    if (savedNickname) {\n      setNickname(savedNickname);\n    } else {\n      var newNick = generateRandomNickname();\n      setNickname(newNick);\n      localStorage.setItem(\"nickname\", newNick);\n    }\n  }, []);\n  var _useQuery = useQuery({\n      queryKey: [\"comments\", postId],\n      queryFn: function () {\n        var _queryFn = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n          var q, snapshot;\n          return _regenerator().w(function (_context) {\n            while (1) switch (_context.n) {\n              case 0:\n                q = query(collection(db, \"posts\", postId, \"comments\"), orderBy(\"createdAt\", \"desc\"));\n                _context.n = 1;\n                return getDocs(q);\n              case 1:\n                snapshot = _context.v;\n                return _context.a(2, snapshot.docs.map(function (doc) {\n                  var _d$nickname, _d$createdAt;\n                  var d = doc.data();\n                  return {\n                    id: doc.id,\n                    nickname: (_d$nickname = d.nickname) !== null && _d$nickname !== void 0 ? _d$nickname : \"익명\",\n                    text: d.text,\n                    createdAt: (_d$createdAt = d.createdAt) !== null && _d$createdAt !== void 0 && _d$createdAt.toDate ? d.createdAt.toDate() : null\n                  };\n                }));\n            }\n          }, _callee);\n        }));\n        function queryFn() {\n          return _queryFn.apply(this, arguments);\n        }\n        return queryFn;\n      }()\n    }),\n    comments = _useQuery.data,\n    isLoading = _useQuery.isLoading;\n  var addCommentMutation = useMutation({\n    mutationFn: function () {\n      var _mutationFn = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(text) {\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              _context2.n = 1;\n              return addDoc(collection(db, \"posts\", postId, \"comments\"), {\n                nickname: nickname,\n                text: text,\n                createdAt: serverTimestamp()\n              });\n            case 1:\n              return _context2.a(2);\n          }\n        }, _callee2);\n      }));\n      function mutationFn(_x) {\n        return _mutationFn.apply(this, arguments);\n      }\n      return mutationFn;\n    }(),\n    onSuccess: function onSuccess() {\n      setNewComment(\"\");\n      queryClient.invalidateQueries({\n        queryKey: [\"comments\", postId]\n      });\n    }\n  });\n  var deleteCommentMutation = useMutation({\n    mutationFn: function () {\n      var _mutationFn2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(commentId) {\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              _context3.n = 1;\n              return deleteDoc(doc(db, \"posts\", postId, \"comments\", commentId));\n            case 1:\n              return _context3.a(2);\n          }\n        }, _callee3);\n      }));\n      function mutationFn(_x2) {\n        return _mutationFn2.apply(this, arguments);\n      }\n      return mutationFn;\n    }(),\n    onSuccess: function onSuccess() {\n      queryClient.invalidateQueries({\n        queryKey: [\"comments\", postId]\n      });\n    }\n  });\n  var updateCommentMutation = useMutation({\n    mutationFn: function () {\n      var _mutationFn3 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4(_ref2) {\n        var commentId, text;\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.n) {\n            case 0:\n              commentId = _ref2.commentId, text = _ref2.text;\n              _context4.n = 1;\n              return updateDoc(doc(db, \"posts\", postId, \"comments\", commentId), {\n                text: text\n              });\n            case 1:\n              return _context4.a(2);\n          }\n        }, _callee4);\n      }));\n      function mutationFn(_x3) {\n        return _mutationFn3.apply(this, arguments);\n      }\n      return mutationFn;\n    }(),\n    onSuccess: function onSuccess() {\n      setEditingId(null);\n      setEditedText(\"\");\n      queryClient.invalidateQueries({\n        queryKey: [\"comments\", postId]\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-semibold mb-3\",\n      children: \"\\uB313\\uAE00\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"mb-4\",\n      children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center h-20\",\n        children: /*#__PURE__*/_jsxDEV(BeatLoader, {\n          color: \"#9CA3AF\",\n          size: 13,\n          margin: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), !isLoading && (comments === null || comments === void 0 ? void 0 : comments.length) === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 dark:text-gray-300\",\n        children: \"\\uD589\\uC6B4\\uC758 \\uCCAB \\uB313\\uAE00\\uC744 \\uB0A8\\uACA8\\uBCF4\\uC138\\uC694!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), comments === null || comments === void 0 ? void 0 : comments.map(function (c) {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"p-2 flex justify-between items-start border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-3 w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://i.pravatar.cc/100?u=\".concat(c.id),\n              alt: \"avatar\",\n              className: \"w-8 h-8 rounded-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-1 justify-between items-start gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold text-sm text-gray-700\",\n                  children: c.nickname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 19\n                }, _this), editingId === c.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                    value: editedText,\n                    onChange: function onChange(e) {\n                      return setEditedText(e.target.value);\n                    },\n                    className: \"w-full border border-gray-300 rounded p-1 mt-1\",\n                    rows: 2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2 mt-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: function onClick() {\n                        return updateCommentMutation.mutate({\n                          commentId: c.id,\n                          text: editedText\n                        });\n                      },\n                      className: \"text-sm text-blue-600 hover:underline\",\n                      children: \"\\uC800\\uC7A5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: function onClick() {\n                        setEditingId(null);\n                        setEditedText(\"\");\n                      },\n                      className: \"text-sm text-gray-500 hover:underline\",\n                      children: \"\\uCDE8\\uC18C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-gray-800 text-sm mt-1\",\n                    children: c.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 23\n                  }, _this), c.createdAt && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400 mt-1\",\n                    children: [c.createdAt.toLocaleDateString(), \" \", c.createdAt.toLocaleTimeString([], {\n                      hour: \"2-digit\",\n                      minute: \"2-digit\"\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, _this), c.nickname === nickname && editingId !== c.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 text-sm ml-auto whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: function onClick() {\n                    setEditingId(c.id);\n                    setEditedText(c.text);\n                  },\n                  className: \"text-gray-400 text-md\",\n                  children: \"\\uC218\\uC815\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: function onClick() {\n                    return deleteCommentMutation.mutate(c.id);\n                  },\n                  className: \"text-red-500 text-md\",\n                  children: \"\\uC0AD\\uC81C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, _this)\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, _this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col mb-6 gap-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: newComment,\n          onChange: function onChange(e) {\n            return setNewComment(e.target.value);\n          },\n          placeholder: \"\\uB313\\uAE00\\uC744 \\uB0A8\\uACA8\\uC8FC\\uC138\\uC694.\",\n          className: \"flex-1 border border-gray-300 rounded-md p-2 focus:outline-none\",\n          rows: 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: function onClick() {\n            return addCommentMutation.mutate(newComment);\n          },\n          className: \"bg-gray-800 text-white px-8 py-2 rounded-md hover:bg-gray-700 transition h-fit\",\n          children: \"\\uB4F1\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n_s(CommentBox, \"xUB1r6YdyM8nAZBEM+l6CsoUHic=\", false, function () {\n  return [useQueryClient, useQuery, useMutation, useMutation, useMutation];\n});\n_c = CommentBox;\nvar _c;\n$RefreshReg$(_c, \"CommentBox\");","map":{"version":3,"names":["useState","useEffect","collection","addDoc","getDocs","query","orderBy","serverTimestamp","deleteDoc","doc","updateDoc","db","useQuery","useMutation","useQueryClient","BeatLoader","jsxDEV","_jsxDEV","Fragment","_Fragment","generateRandomNickname","randomNum","Math","floor","random","concat","CommentBox","_ref","_s","_this","postId","_useState","_useState2","_slicedToArray","nickname","setNickname","_useState3","_useState4","newComment","setNewComment","_useState5","_useState6","editingId","setEditingId","_useState7","_useState8","editedText","setEditedText","queryClient","savedNickname","localStorage","getItem","newNick","setItem","_useQuery","queryKey","queryFn","_queryFn","_asyncToGenerator","_regenerator","m","_callee","q","snapshot","w","_context","n","v","a","docs","map","_d$nickname","_d$createdAt","d","data","id","text","createdAt","toDate","apply","arguments","comments","isLoading","addCommentMutation","mutationFn","_mutationFn","_callee2","_context2","_x","onSuccess","invalidateQueries","deleteCommentMutation","_mutationFn2","_callee3","commentId","_context3","_x2","updateCommentMutation","_mutationFn3","_callee4","_ref2","_context4","_x3","className","children","fileName","_jsxFileName","lineNumber","columnNumber","color","size","margin","length","c","src","alt","value","onChange","e","target","rows","onClick","mutate","toLocaleDateString","toLocaleTimeString","hour","minute","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/als40/Desktop/HandsMarket/frontend/src/pages/product/comment.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport {\r\n  collection,\r\n  addDoc,\r\n  getDocs,\r\n  query,\r\n  orderBy,\r\n  serverTimestamp,\r\n  deleteDoc,\r\n  doc,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"../../firebase/firebaseConfig\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { BeatLoader } from \"react-spinners\";\r\n\r\ntype CommentType = {\r\n  id: string;\r\n  nickname: string;\r\n  text: string;\r\n  createdAt: Date | null;\r\n};\r\n\r\ntype CommentBoxProps = {\r\n  postId: string;\r\n};\r\n\r\nfunction generateRandomNickname() {\r\n  const randomNum = Math.floor(Math.random() * 9000) + 1000;\r\n  return `User${randomNum}`;\r\n}\r\n\r\nexport default function CommentBox({ postId }: CommentBoxProps) {\r\n  const [nickname, setNickname] = useState(\"\");\r\n  const [newComment, setNewComment] = useState(\"\");\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [editedText, setEditedText] = useState(\"\");\r\n  const queryClient = useQueryClient();\r\n\r\n  useEffect(() => {\r\n    const savedNickname = localStorage.getItem(\"nickname\");\r\n    if (savedNickname) {\r\n      setNickname(savedNickname);\r\n    } else {\r\n      const newNick = generateRandomNickname();\r\n      setNickname(newNick);\r\n      localStorage.setItem(\"nickname\", newNick);\r\n    }\r\n  }, []);\r\n\r\n  const { data: comments, isLoading } = useQuery({\r\n    queryKey: [\"comments\", postId],\r\n    queryFn: async () => {\r\n      const q = query(\r\n        collection(db, \"posts\", postId, \"comments\"),\r\n        orderBy(\"createdAt\", \"desc\")\r\n      );\r\n      const snapshot = await getDocs(q);\r\n      return snapshot.docs.map((doc) => {\r\n        const d = doc.data();\r\n        return {\r\n          id: doc.id,\r\n          nickname: d.nickname ?? \"익명\",\r\n          text: d.text,\r\n          createdAt: d.createdAt?.toDate ? d.createdAt.toDate() : null,\r\n        } as CommentType;\r\n      });\r\n    },\r\n  });\r\n\r\n  const addCommentMutation = useMutation({\r\n    mutationFn: async (text: string) => {\r\n      await addDoc(collection(db, \"posts\", postId, \"comments\"), {\r\n        nickname,\r\n        text,\r\n        createdAt: serverTimestamp(),\r\n      });\r\n    },\r\n    onSuccess: () => {\r\n      setNewComment(\"\");\r\n      queryClient.invalidateQueries({ queryKey: [\"comments\", postId] });\r\n    },\r\n  });\r\n\r\n  const deleteCommentMutation = useMutation({\r\n    mutationFn: async (commentId: string) => {\r\n      await deleteDoc(doc(db, \"posts\", postId, \"comments\", commentId));\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"comments\", postId] });\r\n    },\r\n  });\r\n\r\n  const updateCommentMutation = useMutation({\r\n    mutationFn: async ({\r\n      commentId,\r\n      text,\r\n    }: {\r\n      commentId: string;\r\n      text: string;\r\n    }) => {\r\n      await updateDoc(doc(db, \"posts\", postId, \"comments\", commentId), {\r\n        text,\r\n      });\r\n    },\r\n    onSuccess: () => {\r\n      setEditingId(null);\r\n      setEditedText(\"\");\r\n      queryClient.invalidateQueries({ queryKey: [\"comments\", postId] });\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"p-2\">\r\n      <h3 className=\"text-lg font-semibold mb-3\">댓글</h3>\r\n\r\n      {/* 댓글 목록 */}\r\n      <ul className=\"mb-4\">\r\n        {isLoading && (\r\n          <div className=\"flex justify-center items-center h-20\">\r\n            <BeatLoader color=\"#9CA3AF\" size={13} margin={2} />\r\n          </div>\r\n        )}\r\n        {!isLoading && comments?.length === 0 && (\r\n          <p className=\"text-gray-500 dark:text-gray-300\">\r\n            행운의 첫 댓글을 남겨보세요!\r\n          </p>\r\n        )}\r\n        {comments?.map((c) => (\r\n          <li\r\n            key={c.id}\r\n            className=\"p-2 flex justify-between items-start border-b border-gray-200\"\r\n          >\r\n            <div className=\"flex items-start gap-3 w-full\">\r\n              {/* 프로필 */}\r\n              <img\r\n                src={`https://i.pravatar.cc/100?u=${c.id}`}\r\n                alt=\"avatar\"\r\n                className=\"w-8 h-8 rounded-full object-cover\"\r\n              />\r\n\r\n              <div className=\"flex flex-1 justify-between items-start gap-2\">\r\n                {/* 댓글 내용 */}\r\n                <div className=\"flex-1\">\r\n                  <div className=\"font-semibold text-sm text-gray-700\">\r\n                    {c.nickname}\r\n                  </div>\r\n\r\n                  {editingId === c.id ? (\r\n                    <>\r\n                      <textarea\r\n                        value={editedText}\r\n                        onChange={(e) => setEditedText(e.target.value)}\r\n                        className=\"w-full border border-gray-300 rounded p-1 mt-1\"\r\n                        rows={2}\r\n                      />\r\n                      <div className=\"flex gap-2 mt-1\">\r\n                        <button\r\n                          onClick={() =>\r\n                            updateCommentMutation.mutate({\r\n                              commentId: c.id,\r\n                              text: editedText,\r\n                            })\r\n                          }\r\n                          className=\"text-sm text-blue-600 hover:underline\"\r\n                        >\r\n                          저장\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            setEditingId(null);\r\n                            setEditedText(\"\");\r\n                          }}\r\n                          className=\"text-sm text-gray-500 hover:underline\"\r\n                        >\r\n                          취소\r\n                        </button>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <div className=\"text-gray-800 text-sm mt-1\">{c.text}</div>\r\n                      {c.createdAt && (\r\n                        <div className=\"text-xs text-gray-400 mt-1\">\r\n                          {c.createdAt.toLocaleDateString()}{\" \"}\r\n                          {c.createdAt.toLocaleTimeString([], {\r\n                            hour: \"2-digit\",\r\n                            minute: \"2-digit\",\r\n                          })}\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </div>\r\n\r\n                {/*수정/삭제 */}\r\n                {c.nickname === nickname && editingId !== c.id && (\r\n                  <div className=\"flex items-center gap-2 text-sm ml-auto whitespace-nowrap\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setEditingId(c.id);\r\n                        setEditedText(c.text);\r\n                      }}\r\n                      className=\"text-gray-400 text-md\"\r\n                    >\r\n                      수정\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deleteCommentMutation.mutate(c.id)}\r\n                      className=\"text-red-500 text-md\"\r\n                    >\r\n                      삭제\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      {/* 댓글 입력창 */}\r\n      <div className=\"flex flex-col mb-6 gap-2\">\r\n        <div className=\"flex items-start gap-2\">\r\n          <textarea\r\n            value={newComment}\r\n            onChange={(e) => setNewComment(e.target.value)}\r\n            placeholder=\"댓글을 남겨주세요.\"\r\n            className=\"flex-1 border border-gray-300 rounded-md p-2 focus:outline-none\"\r\n            rows={1}\r\n          />\r\n          <button\r\n            onClick={() => addCommentMutation.mutate(newComment)}\r\n            className=\"bg-gray-800 text-white px-8 py-2 rounded-md hover:bg-gray-700 transition h-fit\"\r\n          >\r\n            등록\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}