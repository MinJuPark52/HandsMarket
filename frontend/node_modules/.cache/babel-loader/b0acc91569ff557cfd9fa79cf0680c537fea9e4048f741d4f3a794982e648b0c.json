{"ast":null,"code":"import _classCallCheck from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _classPrivateFieldInitSpec from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _classPrivateFieldSet from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nvar _online, _cleanup, _setup;\n// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = (_online = /*#__PURE__*/new WeakMap(), _cleanup = /*#__PURE__*/new WeakMap(), _setup = /*#__PURE__*/new WeakMap(), /*#__PURE__*/function (_Subscribable) {\n  function OnlineManager() {\n    var _this;\n    _classCallCheck(this, OnlineManager);\n    _this = _callSuper(this, OnlineManager);\n    _classPrivateFieldInitSpec(_this, _online, true);\n    _classPrivateFieldInitSpec(_this, _cleanup, void 0);\n    _classPrivateFieldInitSpec(_this, _setup, void 0);\n    _classPrivateFieldSet(_setup, _this, function (onOnline) {\n      if (!isServer && window.addEventListener) {\n        var onlineListener = function onlineListener() {\n          return onOnline(true);\n        };\n        var offlineListener = function offlineListener() {\n          return onOnline(false);\n        };\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return function () {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    });\n    return _this;\n  }\n  _inherits(OnlineManager, _Subscribable);\n  return _createClass(OnlineManager, [{\n    key: \"onSubscribe\",\n    value: function onSubscribe() {\n      if (!_classPrivateFieldGet(_cleanup, this)) {\n        this.setEventListener(_classPrivateFieldGet(_setup, this));\n      }\n    }\n  }, {\n    key: \"onUnsubscribe\",\n    value: function onUnsubscribe() {\n      if (!this.hasListeners()) {\n        var _classPrivateFieldGet2;\n        (_classPrivateFieldGet2 = _classPrivateFieldGet(_cleanup, this)) === null || _classPrivateFieldGet2 === void 0 || _classPrivateFieldGet2.call(this);\n        _classPrivateFieldSet(_cleanup, this, void 0);\n      }\n    }\n  }, {\n    key: \"setEventListener\",\n    value: function setEventListener(setup) {\n      var _classPrivateFieldGet3;\n      _classPrivateFieldSet(_setup, this, setup);\n      (_classPrivateFieldGet3 = _classPrivateFieldGet(_cleanup, this)) === null || _classPrivateFieldGet3 === void 0 || _classPrivateFieldGet3.call(this);\n      _classPrivateFieldSet(_cleanup, this, setup(this.setOnline.bind(this)));\n    }\n  }, {\n    key: \"setOnline\",\n    value: function setOnline(online) {\n      var changed = _classPrivateFieldGet(_online, this) !== online;\n      if (changed) {\n        _classPrivateFieldSet(_online, this, online);\n        this.listeners.forEach(function (listener) {\n          listener(online);\n        });\n      }\n    }\n  }, {\n    key: \"isOnline\",\n    value: function isOnline() {\n      return _classPrivateFieldGet(_online, this);\n    }\n  }]);\n}(Subscribable));\nvar onlineManager = new OnlineManager();\nexport { OnlineManager, onlineManager };","map":{"version":3,"names":["Subscribable","isServer","OnlineManager","_online","WeakMap","_cleanup","_setup","_Subscribable","_this","_classCallCheck","_callSuper","_classPrivateFieldInitSpec","_classPrivateFieldSet","onOnline","window","addEventListener","onlineListener","offlineListener","removeEventListener","_inherits","_createClass","key","value","onSubscribe","_classPrivateFieldGet","setEventListener","onUnsubscribe","hasListeners","_classPrivateFieldGet2","call","setup","_classPrivateFieldGet3","setOnline","bind","online","changed","listeners","forEach","listener","isOnline","onlineManager"],"sources":["C:\\Users\\als40\\Desktop\\HandsMarket\\node_modules\\@tanstack\\query-core\\src\\onlineManager.ts"],"sourcesContent":["import { Subscribable } from './subscribable'\nimport { isServer } from './utils'\n\ntype Listener = (online: boolean) => void\ntype SetupFn = (setOnline: Listener) => (() => void) | undefined\n\nexport class OnlineManager extends Subscribable<Listener> {\n  #online = true\n  #cleanup?: () => void\n\n  #setup: SetupFn\n\n  constructor() {\n    super()\n    this.#setup = (onOnline) => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true)\n        const offlineListener = () => onOnline(false)\n        // Listen to online\n        window.addEventListener('online', onlineListener, false)\n        window.addEventListener('offline', offlineListener, false)\n\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('online', onlineListener)\n          window.removeEventListener('offline', offlineListener)\n        }\n      }\n\n      return\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup)\n    }\n  }\n\n  protected onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.()\n      this.#cleanup = undefined\n    }\n  }\n\n  setEventListener(setup: SetupFn): void {\n    this.#setup = setup\n    this.#cleanup?.()\n    this.#cleanup = setup(this.setOnline.bind(this))\n  }\n\n  setOnline(online: boolean): void {\n    const changed = this.#online !== online\n\n    if (changed) {\n      this.#online = online\n      this.listeners.forEach((listener) => {\n        listener(online)\n      })\n    }\n  }\n\n  isOnline(): boolean {\n    return this.#online\n  }\n}\n\nexport const onlineManager = new OnlineManager()\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}