{"ast":null,"code":"import _classCallCheck from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classPrivateFieldInitSpec from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _classPrivateFieldSet from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nvar _gcTimeout;\n// src/removable.ts\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = (_gcTimeout = /*#__PURE__*/new WeakMap(), /*#__PURE__*/function () {\n  function Removable() {\n    _classCallCheck(this, Removable);\n    _classPrivateFieldInitSpec(this, _gcTimeout, void 0);\n  }\n  return _createClass(Removable, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.clearGcTimeout();\n    }\n  }, {\n    key: \"scheduleGc\",\n    value: function scheduleGc() {\n      var _this = this;\n      this.clearGcTimeout();\n      if (isValidTimeout(this.gcTime)) {\n        _classPrivateFieldSet(_gcTimeout, this, setTimeout(function () {\n          _this.optionalRemove();\n        }, this.gcTime));\n      }\n    }\n  }, {\n    key: \"updateGcTime\",\n    value: function updateGcTime(newGcTime) {\n      this.gcTime = Math.max(this.gcTime || 0, newGcTime !== null && newGcTime !== void 0 ? newGcTime : isServer ? Infinity : 5 * 60 * 1e3);\n    }\n  }, {\n    key: \"clearGcTimeout\",\n    value: function clearGcTimeout() {\n      if (_classPrivateFieldGet(_gcTimeout, this)) {\n        clearTimeout(_classPrivateFieldGet(_gcTimeout, this));\n        _classPrivateFieldSet(_gcTimeout, this, void 0);\n      }\n    }\n  }]);\n}());\nexport { Removable };","map":{"version":3,"names":["isServer","isValidTimeout","Removable","_gcTimeout","WeakMap","_classCallCheck","_classPrivateFieldInitSpec","_createClass","key","value","destroy","clearGcTimeout","scheduleGc","_this","gcTime","_classPrivateFieldSet","setTimeout","optionalRemove","updateGcTime","newGcTime","Math","max","Infinity","_classPrivateFieldGet","clearTimeout"],"sources":["C:\\Users\\als40\\Desktop\\HandsMarket\\node_modules\\@tanstack\\query-core\\src\\removable.ts"],"sourcesContent":["import { isServer, isValidTimeout } from './utils'\n\nexport abstract class Removable {\n  gcTime!: number\n  #gcTimeout?: ReturnType<typeof setTimeout>\n\n  destroy(): void {\n    this.clearGcTimeout()\n  }\n\n  protected scheduleGc(): void {\n    this.clearGcTimeout()\n\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = setTimeout(() => {\n        this.optionalRemove()\n      }, this.gcTime)\n    }\n  }\n\n  protected updateGcTime(newGcTime: number | undefined): void {\n    // Default to 5 minutes (Infinity for server-side) if no gcTime is set\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1000),\n    )\n  }\n\n  protected clearGcTimeout() {\n    if (this.#gcTimeout) {\n      clearTimeout(this.#gcTimeout)\n      this.#gcTimeout = undefined\n    }\n  }\n\n  protected abstract optionalRemove(): void\n}\n"],"mappings":";;;;;;;AAAA,SAASA,QAAA,EAAUC,cAAA,QAAsB;AAElC,IAAeC,SAAA,IAAAC,UAAA,oBAAAC,OAAA;EAAA,SAAAF,UAAA;IAAAG,eAAA,OAAAH,SAAA;IAEpBI,0BAAA,OAAAH,UAAA;EAAA;EAAA,OAAAI,YAAA,CAAAL,SAAA;IAAAM,GAAA;IAAAC,KAAA,EAEA,SAAAC,QAAA,EAAgB;MACd,KAAKC,cAAA,CAAe;IACtB;EAAA;IAAAH,GAAA;IAAAC,KAAA,EAEU,SAAAG,WAAA,EAAmB;MAAA,IAAAC,KAAA;MAC3B,KAAKF,cAAA,CAAe;MAEpB,IAAIV,cAAA,CAAe,KAAKa,MAAM,GAAG;QAC/BC,qBAAA,CAAKZ,UAAA,EAAL,MAAkBa,UAAA,CAAW,YAAM;UACjCH,KAAA,CAAKI,cAAA,CAAe;QACtB,GAAG,KAAKH,MAAM,CAFT;MAGP;IACF;EAAA;IAAAN,GAAA;IAAAC,KAAA,EAEU,SAAAS,aAAaC,SAAA,EAAqC;MAE1D,KAAKL,MAAA,GAASM,IAAA,CAAKC,GAAA,CACjB,KAAKP,MAAA,IAAU,GACfK,SAAA,aAAAA,SAAA,cAAAA,SAAA,GAAcnB,QAAA,GAAWsB,QAAA,GAAW,IAAI,KAAK,GAC/C;IACF;EAAA;IAAAd,GAAA;IAAAC,KAAA,EAEU,SAAAE,eAAA,EAAiB;MACzB,IAAIY,qBAAA,CAAKpB,UAAA,EAAL,IAAK,GAAY;QACnBqB,YAAA,CAAaD,qBAAA,CAAKpB,UAAU,EAAf,IAAK,CAAU;QAC5BY,qBAAA,CAAKZ,UAAA,EAAL,MAAkB,MAAb;MACP;IACF;EAAA;AAAA,IAGF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}