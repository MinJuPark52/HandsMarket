{"ast":null,"code":"import _toConsumableArray from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regenerator from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/als40/Desktop/HandsMarket/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\als40\\\\Desktop\\\\HandsMarket\\\\frontend\\\\src\\\\pages\\\\product\\\\productDetail.tsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { doc, getDoc } from \"firebase/firestore\";\nimport { db } from \"../../firebase/firebaseConfig\";\nimport { FiHeart } from \"react-icons/fi\";\nimport { IoShareSocialOutline } from \"react-icons/io5\";\nimport { GoX } from \"react-icons/go\";\nimport Category from \"./productCategory\";\nimport { BeatLoader } from \"react-spinners\";\nimport useLoginStore from \"../../stores/useLoginStore\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar fetchProductById = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(id) {\n    var docRef, docSnap, _data$tags, _data$image, _data$title, _data$description, _data$price, _data$options, data, author, authorRef, authorSnap, _authorData$name, _authorData$profileIm, _authorData$detailIma, authorData, tags;\n    return _regenerator().w(function (_context) {\n      while (1) switch (_context.n) {\n        case 0:\n          docRef = doc(db, \"product\", id);\n          _context.n = 1;\n          return getDoc(docRef);\n        case 1:\n          docSnap = _context.v;\n          if (!docSnap.exists()) {\n            _context.n = 4;\n            break;\n          }\n          data = docSnap.data();\n          author = undefined;\n          if (!data.authorId) {\n            _context.n = 3;\n            break;\n          }\n          authorRef = doc(db, \"authors\", data.authorId);\n          _context.n = 2;\n          return getDoc(authorRef);\n        case 2:\n          authorSnap = _context.v;\n          if (authorSnap.exists()) {\n            authorData = authorSnap.data();\n            author = {\n              name: (_authorData$name = authorData.name) !== null && _authorData$name !== void 0 ? _authorData$name : \"\",\n              profileImage: (_authorData$profileIm = authorData.profileImage) !== null && _authorData$profileIm !== void 0 ? _authorData$profileIm : \"\",\n              detailImages: (_authorData$detailIma = authorData.detailImages) !== null && _authorData$detailIma !== void 0 ? _authorData$detailIma : \"\"\n            };\n          }\n        case 3:\n          tags = (_data$tags = data.tags) !== null && _data$tags !== void 0 ? _data$tags : [];\n          return _context.a(2, {\n            id: docSnap.id,\n            image: (_data$image = data.image) !== null && _data$image !== void 0 ? _data$image : \"\",\n            title: (_data$title = data.title) !== null && _data$title !== void 0 ? _data$title : \"\",\n            description: (_data$description = data.description) !== null && _data$description !== void 0 ? _data$description : \"\",\n            price: Number((_data$price = data.price) !== null && _data$price !== void 0 ? _data$price : 0),\n            options: (_data$options = data.options) !== null && _data$options !== void 0 ? _data$options : [],\n            authorId: data.authorId,\n            author: author,\n            tags: tags\n          });\n        case 4:\n          return _context.a(2, null);\n      }\n    }, _callee);\n  }));\n  return function fetchProductById(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar ProductDetailPage = function ProductDetailPage() {\n  _s();\n  var _product$options3;\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var navigate = useNavigate();\n  var _useLoginStore = useLoginStore(),\n    uid = _useLoginStore.uid;\n  var isLoggedIn = Boolean(uid);\n  var _useQuery = useQuery({\n      queryKey: [\"product\", id],\n      queryFn: function queryFn() {\n        return fetchProductById(id);\n      },\n      enabled: !!id\n    }),\n    product = _useQuery.data,\n    isLoading = _useQuery.isLoading,\n    error = _useQuery.error;\n\n  // 옵션 선택 상태 저장\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedOptions = _useState2[0],\n    setSelectedOptions = _useState2[1];\n  // 선택 완료된 옵션 조합 리스트 (옵션 + 수량)\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedCombinations = _useState4[0],\n    setSelectedCombinations = _useState4[1];\n\n  // 옵션 선택 시 호출: 옵션 저장 후, 모든 옵션이 선택되면 조합 추가\n  var handleOptionChange = function handleOptionChange(optionName, valueLabel) {\n    var _product$options, _product$options$ever, _product$options2;\n    var option = product === null || product === void 0 ? void 0 : (_product$options = product.options) === null || _product$options === void 0 ? void 0 : _product$options.find(function (o) {\n      return o.name === optionName;\n    });\n    var value = option === null || option === void 0 ? void 0 : option.values.find(function (v) {\n      return v.label === valueLabel;\n    });\n    if (!value) return;\n    var updated = _objectSpread(_objectSpread({}, selectedOptions), {}, _defineProperty({}, optionName, value));\n    setSelectedOptions(updated);\n    var allSelected = (_product$options$ever = product === null || product === void 0 ? void 0 : (_product$options2 = product.options) === null || _product$options2 === void 0 ? void 0 : _product$options2.every(function (opt) {\n      return updated[opt.name];\n    })) !== null && _product$options$ever !== void 0 ? _product$options$ever : false;\n    if (allSelected) {\n      var newCombo = {\n        options: updated,\n        quantity: 1\n      };\n      setSelectedCombinations(function (prev) {\n        return [].concat(_toConsumableArray(prev), [newCombo]);\n      });\n      setSelectedOptions({});\n    }\n  };\n  var updateQuantity = function updateQuantity(index, delta) {\n    setSelectedCombinations(function (prev) {\n      var copy = _toConsumableArray(prev);\n      var newQty = copy[index].quantity + delta;\n      if (newQty > 0) copy[index].quantity = newQty;\n      return copy;\n    });\n  };\n  var removeCombination = function removeCombination(index) {\n    setSelectedCombinations(function (prev) {\n      return prev.filter(function (_, i) {\n        return i !== index;\n      });\n    });\n  };\n  var calculateTotalPrice = function calculateTotalPrice() {\n    return selectedCombinations.reduce(function (total, combo) {\n      var base = (product === null || product === void 0 ? void 0 : product.price) || 0;\n      var extra = Object.values(combo.options).reduce(function (sum, val) {\n        return sum + val.price;\n      }, 0);\n      return total + (base + extra) * combo.quantity;\n    }, 0);\n  };\n  var handleCartClick = function handleCartClick() {\n    if (!product || selectedCombinations.length === 0) return;\n    if (!isLoggedIn) {\n      localStorage.setItem(\"redirectAfterLogin\", window.location.pathname);\n      navigate(\"/login\");\n      return;\n    }\n    var cartItems = selectedCombinations.map(function (combo) {\n      return {\n        product: product,\n        options: combo.options,\n        quantity: combo.quantity\n      };\n    });\n    var existingCart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\n    var updatedCart = [].concat(_toConsumableArray(existingCart), _toConsumableArray(cartItems));\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n    alert(\"장바구니에 추가되었습니다\");\n    navigate(\"/cart\");\n  };\n  var handleDirectBuy = function handleDirectBuy() {\n    if (!product || selectedCombinations.length === 0) return;\n    localStorage.setItem(\"directBuy\", JSON.stringify({\n      product: product,\n      combinations: selectedCombinations,\n      totalPrice: calculateTotalPrice()\n    }));\n    navigate(\"/pay\");\n  };\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-20\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(BeatLoader, {\n      color: \"#9CA3AF\",\n      size: 13,\n      margin: 3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 7\n  }, _this);\n  if (error || !product) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Product not found or error occurred.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 33\n  }, _this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dark:text-white flex justify-center px-4 mt-20\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[1024px] flex gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-[500px] h-[550px]\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.image,\n            alt: product.title,\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-[512px] px-4 flex flex-col\",\n          children: [product.author && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-2 text-md text-gray-700 dark:text-gray-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.author.profileImage,\n              alt: product.author.name,\n              className: \"w-9 h-9 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: product.author.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mb-2 text-xl\",\n              children: product.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 ml-auto\",\n              children: [/*#__PURE__*/_jsxDEV(FiHeart, {\n                className: \"text-2xl\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(IoShareSocialOutline, {\n                className: \"text-2xl ml-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl font-semibold mt-2\",\n            children: [product.price.toLocaleString(), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-light\",\n              children: \"\\uC6D0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"mt-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"border p-2 text-lg w-full h-[4rem] mt-2 text-orange-500 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\uD560\\uC778 \\uCFE0\\uD3F0 \\uBC1B\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\uCCAB\\uAD6C\\uB9E4 20% \\uD560\\uC778 \\uCFE0\\uD3F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\uC990\\uACA8\\uCC3E\\uAE30 \\uD560\\uC778 \\uCFE0\\uD3F0 1000\\uC6D0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-4\",\n            children: [\"\\uBC30\\uC1A1\\uC815\\uBCF4 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-8\",\n              children: \"\\uBB34\\uB8CC \\uBC30\\uC1A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 20\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2\",\n            children: [\"\\uB3C4\\uCC29\\uC608\\uC815 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-8\",\n              children: \"\\uB3C4\\uCC29 \\uD655\\uB960 95%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 20\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-gray-400\",\n            children: \"*\\uBC30\\uC1A1 \\uCD9C\\uBC1C \\uC774\\uD6C4 \\uBC30\\uC1A1 \\uAE30\\uAC04\\uC740 2-3\\uC77C \\uC18C\\uC694\\uB429\\uB2C8\\uB2E4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dark:bg-gray-600 mt-4 border bg-[#fefefe] rounded-lg px-4 py-2\",\n            children: [(_product$options3 = product.options) === null || _product$options3 === void 0 ? void 0 : _product$options3.map(function (option) {\n              var _selectedOptions$opti;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"select-\".concat(option.name),\n                  className: \"text-lg\",\n                  children: option.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"select-\".concat(option.name),\n                  className: \"dark:bg-gray-300 border bg-[#f3f3f3] text-lg rounded-lg px-2 w-full h-[3rem] text-gray-700 mb-2\",\n                  value: ((_selectedOptions$opti = selectedOptions[option.name]) === null || _selectedOptions$opti === void 0 ? void 0 : _selectedOptions$opti.label) || \"\",\n                  onChange: function onChange(e) {\n                    return handleOptionChange(option.name, e.target.value);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 21\n                  }, _this), option.values.map(function (value) {\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: value.label,\n                      children: [value.label, value.price > 0 ? \" (+\".concat(value.price.toLocaleString(), \"\\uC6D0)\") : \"\"]\n                    }, value.label, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 23\n                    }, _this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 19\n                }, _this)]\n              }, option.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, _this);\n            }), selectedCombinations.map(function (combo, index) {\n              var _product$options4;\n              var combinationText = product === null || product === void 0 ? void 0 : (_product$options4 = product.options) === null || _product$options4 === void 0 ? void 0 : _product$options4.map(function (opt) {\n                var value = combo.options[opt.name];\n                return \"\".concat(opt.label, \": \").concat(value === null || value === void 0 ? void 0 : value.label);\n              }).join(\" / \");\n              var extraPrice = Object.values(combo.options).reduce(function (sum, val) {\n                return sum + val.price;\n              }, 0);\n              var unitPrice = ((product === null || product === void 0 ? void 0 : product.price) || 0) + extraPrice;\n              var totalPrice = unitPrice * combo.quantity;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded p-3 mt-4 bg-white dark:bg-gray-800\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: combinationText\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    \"aria-label\": \"\\uC0AD\\uC81C\",\n                    onClick: function onClick() {\n                      return removeCombination(index);\n                    },\n                    className: \"text-red-500 text-xl hover:underline\",\n                    children: /*#__PURE__*/_jsxDEV(GoX, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 25\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mt-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      \"aria-label\": \"\\uC218\\uB7C9 \\uAC10\\uC18C\",\n                      onClick: function onClick() {\n                        return updateQuantity(index, -1);\n                      },\n                      className: \"px-3 py-1 border rounded\",\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg\",\n                      children: combo.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      \"aria-label\": \"\\uC218\\uB7C9 \\uC99D\\uAC00\",\n                      onClick: function onClick() {\n                        return updateQuantity(index, 1);\n                      },\n                      className: \"px-3 py-1 border rounded\",\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 326,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-700 dark:text-gray-300\",\n                    children: [totalPrice.toLocaleString(), \"\\uC6D0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, _this)]\n              }, \"\".concat(combinationText, \"-\").concat(index), true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, _this);\n            }), selectedCombinations.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-right text-xl font-bold mt-6\",\n              children: [\"\\uCD1D \\uAE08\\uC561: \", calculateTotalPrice().toLocaleString(), \"\\uC6D0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 flex z-[1] gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCartClick,\n              className: \"flex-1 rounded-lg bg-white dark:bg-gray-600 text-black dark:text-white border h-[4rem] font-semibold hover:opacity-90 transition\",\n              children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDirectBuy,\n              className: \"flex-1 rounded-lg bg-orange-500 text-white border h-[4rem] font-semibold hover:opacity-90 transition\",\n              children: \"\\uBC14\\uB85C \\uAD6C\\uB9E4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Category, {\n      product: product\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n_s(ProductDetailPage, \"udSUE4k9CxVQJ9FGrFKMUUAVS/I=\", false, function () {\n  return [useParams, useNavigate, useLoginStore, useQuery];\n});\n_c = ProductDetailPage;\nexport default ProductDetailPage;\nvar _c;\n$RefreshReg$(_c, \"ProductDetailPage\");","map":{"version":3,"names":["useState","useParams","useNavigate","useQuery","doc","getDoc","db","FiHeart","IoShareSocialOutline","GoX","Category","BeatLoader","useLoginStore","jsxDEV","_jsxDEV","Fragment","_Fragment","fetchProductById","_ref","_asyncToGenerator","_regenerator","m","_callee","id","docRef","docSnap","_data$tags","_data$image","_data$title","_data$description","_data$price","_data$options","data","author","authorRef","authorSnap","_authorData$name","_authorData$profileIm","_authorData$detailIma","authorData","tags","w","_context","n","v","exists","undefined","authorId","name","profileImage","detailImages","a","image","title","description","price","Number","options","_x","apply","arguments","ProductDetailPage","_s","_product$options3","_useParams","navigate","_useLoginStore","uid","isLoggedIn","Boolean","_useQuery","queryKey","queryFn","enabled","product","isLoading","error","_useState","_useState2","_slicedToArray","selectedOptions","setSelectedOptions","_useState3","_useState4","selectedCombinations","setSelectedCombinations","handleOptionChange","optionName","valueLabel","_product$options","_product$options$ever","_product$options2","option","find","o","value","values","label","updated","_objectSpread","_defineProperty","allSelected","every","opt","newCombo","quantity","prev","concat","_toConsumableArray","updateQuantity","index","delta","copy","newQty","removeCombination","filter","_","i","calculateTotalPrice","reduce","total","combo","base","extra","Object","sum","val","handleCartClick","length","localStorage","setItem","window","location","pathname","cartItems","map","existingCart","JSON","parse","getItem","updatedCart","stringify","alert","handleDirectBuy","combinations","totalPrice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","color","size","margin","src","alt","toLocaleString","_selectedOptions$opti","htmlFor","onChange","e","target","_product$options4","combinationText","join","extraPrice","unitPrice","onClick","_c","$RefreshReg$"],"sources":["C:/Users/als40/Desktop/HandsMarket/frontend/src/pages/product/productDetail.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { db } from \"../../firebase/firebaseConfig\";\r\nimport { FiHeart } from \"react-icons/fi\";\r\nimport { IoShareSocialOutline } from \"react-icons/io5\";\r\nimport { GoX } from \"react-icons/go\";\r\nimport Category from \"./productCategory\";\r\nimport { BeatLoader } from \"react-spinners\";\r\nimport useLoginStore from \"../../stores/useLoginStore\";\r\n\r\ninterface ProductOptionValue {\r\n  label: string;\r\n  price: number;\r\n}\r\n\r\ninterface ProductOption {\r\n  name: string;\r\n  label: string;\r\n  values: ProductOptionValue[];\r\n}\r\n\r\ninterface Product {\r\n  id: string;\r\n  image: string;\r\n  title: string;\r\n  description: string;\r\n  price: number;\r\n  options?: ProductOption[];\r\n  authorId?: string;\r\n  author?: Author;\r\n  tags?: string[];\r\n}\r\n\r\ninterface SelectedCombo {\r\n  options: { [key: string]: ProductOptionValue };\r\n  quantity: number;\r\n}\r\n\r\ninterface Author {\r\n  name: string;\r\n  profileImage: string;\r\n  detailImages?: string;\r\n}\r\n\r\nconst fetchProductById = async (id: string): Promise<Product | null> => {\r\n  const docRef = doc(db, \"product\", id);\r\n  const docSnap = await getDoc(docRef);\r\n\r\n  if (docSnap.exists()) {\r\n    const data = docSnap.data() as Partial<Product>;\r\n\r\n    let author: Author | undefined = undefined;\r\n\r\n    if (data.authorId) {\r\n      const authorRef = doc(db, \"authors\", data.authorId);\r\n      const authorSnap = await getDoc(authorRef);\r\n      if (authorSnap.exists()) {\r\n        const authorData = authorSnap.data() as Author;\r\n        author = {\r\n          name: authorData.name ?? \"\",\r\n          profileImage: authorData.profileImage ?? \"\",\r\n          detailImages: authorData.detailImages ?? \"\",\r\n        };\r\n      }\r\n    }\r\n    const tags = data.tags ?? [];\r\n\r\n    return {\r\n      id: docSnap.id,\r\n      image: data.image ?? \"\",\r\n      title: data.title ?? \"\",\r\n      description: data.description ?? \"\",\r\n      price: Number(data.price ?? 0),\r\n      options: data.options ?? [],\r\n      authorId: data.authorId,\r\n      author,\r\n      tags,\r\n    };\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst ProductDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { uid } = useLoginStore();\r\n  const isLoggedIn = Boolean(uid);\r\n\r\n  const {\r\n    data: product,\r\n    isLoading,\r\n    error,\r\n  } = useQuery<Product | null>({\r\n    queryKey: [\"product\", id],\r\n    queryFn: () => fetchProductById(id!),\r\n    enabled: !!id,\r\n  });\r\n\r\n  // 옵션 선택 상태 저장\r\n  const [selectedOptions, setSelectedOptions] = useState<{\r\n    [key: string]: ProductOptionValue;\r\n  }>({});\r\n  // 선택 완료된 옵션 조합 리스트 (옵션 + 수량)\r\n  const [selectedCombinations, setSelectedCombinations] = useState<\r\n    SelectedCombo[]\r\n  >([]);\r\n\r\n  // 옵션 선택 시 호출: 옵션 저장 후, 모든 옵션이 선택되면 조합 추가\r\n  const handleOptionChange = (optionName: string, valueLabel: string) => {\r\n    const option = product?.options?.find((o) => o.name === optionName);\r\n    const value = option?.values.find((v) => v.label === valueLabel);\r\n    if (!value) return;\r\n\r\n    const updated = { ...selectedOptions, [optionName]: value };\r\n    setSelectedOptions(updated);\r\n\r\n    const allSelected =\r\n      product?.options?.every((opt) => updated[opt.name]) ?? false;\r\n\r\n    if (allSelected) {\r\n      const newCombo: SelectedCombo = {\r\n        options: updated,\r\n        quantity: 1,\r\n      };\r\n      setSelectedCombinations((prev) => [...prev, newCombo]);\r\n      setSelectedOptions({});\r\n    }\r\n  };\r\n\r\n  const updateQuantity = (index: number, delta: number) => {\r\n    setSelectedCombinations((prev) => {\r\n      const copy = [...prev];\r\n      const newQty = copy[index].quantity + delta;\r\n      if (newQty > 0) copy[index].quantity = newQty;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const removeCombination = (index: number) => {\r\n    setSelectedCombinations((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const calculateTotalPrice = () => {\r\n    return selectedCombinations.reduce((total, combo) => {\r\n      const base = product?.price || 0;\r\n      const extra = Object.values(combo.options).reduce(\r\n        (sum, val) => sum + val.price,\r\n        0\r\n      );\r\n      return total + (base + extra) * combo.quantity;\r\n    }, 0);\r\n  };\r\n\r\n  const handleCartClick = () => {\r\n    if (!product || selectedCombinations.length === 0) return;\r\n\r\n    if (!isLoggedIn) {\r\n      localStorage.setItem(\"redirectAfterLogin\", window.location.pathname);\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    const cartItems = selectedCombinations.map((combo) => ({\r\n      product,\r\n      options: combo.options,\r\n      quantity: combo.quantity,\r\n    }));\r\n\r\n    const existingCart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\r\n    const updatedCart = [...existingCart, ...cartItems];\r\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n\r\n    alert(\"장바구니에 추가되었습니다\");\r\n    navigate(\"/cart\");\r\n  };\r\n\r\n  const handleDirectBuy = () => {\r\n    if (!product || selectedCombinations.length === 0) return;\r\n\r\n    localStorage.setItem(\r\n      \"directBuy\",\r\n      JSON.stringify({\r\n        product,\r\n        combinations: selectedCombinations,\r\n        totalPrice: calculateTotalPrice(),\r\n      })\r\n    );\r\n    navigate(\"/pay\");\r\n  };\r\n\r\n  if (isLoading)\r\n    return (\r\n      <div className=\"flex justify-center items-center h-20\">\r\n        <span>Loading...</span>\r\n        <BeatLoader color=\"#9CA3AF\" size={13} margin={3} />\r\n      </div>\r\n    );\r\n  if (error || !product) return <p>Product not found or error occurred.</p>;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"dark:text-white flex justify-center px-4 mt-20\">\r\n        <div className=\"w-[1024px] flex gap-4\">\r\n          <div className=\"w-[500px] h-[550px]\">\r\n            <img\r\n              src={product.image}\r\n              alt={product.title}\r\n              className=\"w-full h-full object-cover\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"w-[512px] px-4 flex flex-col\">\r\n            {product.author && (\r\n              <div className=\"flex items-center gap-2 mb-2 text-md text-gray-700 dark:text-gray-300\">\r\n                <img\r\n                  src={product.author.profileImage}\r\n                  alt={product.author.name}\r\n                  className=\"w-9 h-9 rounded-full\"\r\n                />\r\n                <span className=\"font-medium\">{product.author.name}</span>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex justify-between items-center\">\r\n              <h2 className=\"mb-2 text-xl\">{product.title}</h2>\r\n              <div className=\"flex gap-2 ml-auto\">\r\n                <FiHeart className=\"text-2xl\" />\r\n                <IoShareSocialOutline className=\"text-2xl ml-2\" />\r\n              </div>\r\n            </div>\r\n\r\n            <p>{product.description}</p>\r\n            <p className=\"text-xl font-semibold mt-2\">\r\n              {product.price.toLocaleString()}\r\n              <span className=\"font-light\">원</span>\r\n            </p>\r\n            <hr className=\"mt-2\" />\r\n\r\n            <select className=\"border p-2 text-lg w-full h-[4rem] mt-2 text-orange-500 rounded-lg\">\r\n              <option>할인 쿠폰 받기</option>\r\n              <option>첫구매 20% 할인 쿠폰</option>\r\n              <option>즐겨찾기 할인 쿠폰 1000원</option>\r\n            </select>\r\n\r\n            <p className=\"mt-4\">\r\n              배송정보 <span className=\"ml-8\">무료 배송</span>\r\n            </p>\r\n            <p className=\"mt-2\">\r\n              도착예정 <span className=\"ml-8\">도착 확률 95%</span>\r\n            </p>\r\n            <p className=\"mt-2 text-gray-400\">\r\n              *배송 출발 이후 배송 기간은 2-3일 소요됩니다\r\n            </p>\r\n\r\n            <div className=\"dark:bg-gray-600 mt-4 border bg-[#fefefe] rounded-lg px-4 py-2\">\r\n              {product.options?.map((option) => (\r\n                <div key={option.name} className=\"mt-2 mb-1\">\r\n                  <label htmlFor={`select-${option.name}`} className=\"text-lg\">\r\n                    {option.label}\r\n                  </label>\r\n                  <select\r\n                    id={`select-${option.name}`}\r\n                    className=\"dark:bg-gray-300 border bg-[#f3f3f3] text-lg rounded-lg px-2 w-full h-[3rem] text-gray-700 mb-2\"\r\n                    value={selectedOptions[option.name]?.label || \"\"}\r\n                    onChange={(e) =>\r\n                      handleOptionChange(option.name, e.target.value)\r\n                    }\r\n                  >\r\n                    <option value=\"\">선택하세요</option>\r\n                    {option.values.map((value) => (\r\n                      <option key={value.label} value={value.label}>\r\n                        {value.label}\r\n                        {value.price > 0\r\n                          ? ` (+${value.price.toLocaleString()}원)`\r\n                          : \"\"}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              ))}\r\n\r\n              {selectedCombinations.map((combo, index) => {\r\n                const combinationText = product?.options\r\n                  ?.map((opt) => {\r\n                    const value = combo.options[opt.name];\r\n                    return `${opt.label}: ${value?.label}`;\r\n                  })\r\n                  .join(\" / \");\r\n\r\n                const extraPrice = Object.values(combo.options).reduce(\r\n                  (sum, val) => sum + val.price,\r\n                  0\r\n                );\r\n                const unitPrice = (product?.price || 0) + extraPrice;\r\n                const totalPrice = unitPrice * combo.quantity;\r\n\r\n                return (\r\n                  <div\r\n                    key={`${combinationText}-${index}`}\r\n                    className=\"border rounded p-3 mt-4 bg-white dark:bg-gray-800\"\r\n                  >\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <p>{combinationText}</p>\r\n                      <button\r\n                        aria-label=\"삭제\"\r\n                        onClick={() => removeCombination(index)}\r\n                        className=\"text-red-500 text-xl hover:underline\"\r\n                      >\r\n                        <GoX />\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between mt-2 gap-4\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <button\r\n                          aria-label=\"수량 감소\"\r\n                          onClick={() => updateQuantity(index, -1)}\r\n                          className=\"px-3 py-1 border rounded\"\r\n                        >\r\n                          -\r\n                        </button>\r\n                        <span className=\"text-lg\">{combo.quantity}</span>\r\n                        <button\r\n                          aria-label=\"수량 증가\"\r\n                          onClick={() => updateQuantity(index, 1)}\r\n                          className=\"px-3 py-1 border rounded\"\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </div>\r\n\r\n                      <p className=\"text-gray-700 dark:text-gray-300\">\r\n                        {totalPrice.toLocaleString()}원\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n\r\n              {selectedCombinations.length > 0 && (\r\n                <p className=\"text-right text-xl font-bold mt-6\">\r\n                  총 금액: {calculateTotalPrice().toLocaleString()}원\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"mt-3 flex z-[1] gap-4\">\r\n              <button\r\n                onClick={handleCartClick}\r\n                className=\"flex-1 rounded-lg bg-white dark:bg-gray-600 text-black dark:text-white border h-[4rem] font-semibold hover:opacity-90 transition\"\r\n              >\r\n                장바구니\r\n              </button>\r\n              <button\r\n                onClick={handleDirectBuy}\r\n                className=\"flex-1 rounded-lg bg-orange-500 text-white border h-[4rem] font-semibold hover:opacity-90 transition\"\r\n              >\r\n                바로 구매\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Category product={product} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductDetailPage;\r\n"],"mappings":";;;;;;;;;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAChD,SAASC,EAAE,QAAQ,+BAA+B;AAClD,SAASC,OAAO,QAAQ,gBAAgB;AACxC,SAASC,oBAAoB,QAAQ,iBAAiB;AACtD,SAASC,GAAG,QAAQ,gBAAgB;AACpC,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,OAAOC,aAAa,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAoCvD,IAAMC,gBAAgB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAAG,SAAAC,QAAOC,EAAU;IAAA,IAAAC,MAAA,EAAAC,OAAA,EAAAC,UAAA,EAAAC,WAAA,EAAAC,WAAA,EAAAC,iBAAA,EAAAC,WAAA,EAAAC,aAAA,EAAAC,IAAA,EAAAC,MAAA,EAAAC,SAAA,EAAAC,UAAA,EAAAC,gBAAA,EAAAC,qBAAA,EAAAC,qBAAA,EAAAC,UAAA,EAAAC,IAAA;IAAA,OAAApB,YAAA,GAAAqB,CAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,CAAA;QAAA;UAClCnB,MAAM,GAAGpB,GAAG,CAACE,EAAE,EAAE,SAAS,EAAEiB,EAAE,CAAC;UAAAmB,QAAA,CAAAC,CAAA;UAAA,OACftC,MAAM,CAACmB,MAAM,CAAC;QAAA;UAA9BC,OAAO,GAAAiB,QAAA,CAAAE,CAAA;UAAA,KAETnB,OAAO,CAACoB,MAAM,CAAC,CAAC;YAAAH,QAAA,CAAAC,CAAA;YAAA;UAAA;UACZX,IAAI,GAAGP,OAAO,CAACO,IAAI,CAAC,CAAC;UAEvBC,MAA0B,GAAGa,SAAS;UAAA,KAEtCd,IAAI,CAACe,QAAQ;YAAAL,QAAA,CAAAC,CAAA;YAAA;UAAA;UACTT,SAAS,GAAG9B,GAAG,CAACE,EAAE,EAAE,SAAS,EAAE0B,IAAI,CAACe,QAAQ,CAAC;UAAAL,QAAA,CAAAC,CAAA;UAAA,OAC1BtC,MAAM,CAAC6B,SAAS,CAAC;QAAA;UAApCC,UAAU,GAAAO,QAAA,CAAAE,CAAA;UAChB,IAAIT,UAAU,CAACU,MAAM,CAAC,CAAC,EAAE;YACjBN,UAAU,GAAGJ,UAAU,CAACH,IAAI,CAAC,CAAC;YACpCC,MAAM,GAAG;cACPe,IAAI,GAAAZ,gBAAA,GAAEG,UAAU,CAACS,IAAI,cAAAZ,gBAAA,cAAAA,gBAAA,GAAI,EAAE;cAC3Ba,YAAY,GAAAZ,qBAAA,GAAEE,UAAU,CAACU,YAAY,cAAAZ,qBAAA,cAAAA,qBAAA,GAAI,EAAE;cAC3Ca,YAAY,GAAAZ,qBAAA,GAAEC,UAAU,CAACW,YAAY,cAAAZ,qBAAA,cAAAA,qBAAA,GAAI;YAC3C,CAAC;UACH;QAAC;UAEGE,IAAI,IAAAd,UAAA,GAAGM,IAAI,CAACQ,IAAI,cAAAd,UAAA,cAAAA,UAAA,GAAI,EAAE;UAAA,OAAAgB,QAAA,CAAAS,CAAA,IAErB;YACL5B,EAAE,EAAEE,OAAO,CAACF,EAAE;YACd6B,KAAK,GAAAzB,WAAA,GAAEK,IAAI,CAACoB,KAAK,cAAAzB,WAAA,cAAAA,WAAA,GAAI,EAAE;YACvB0B,KAAK,GAAAzB,WAAA,GAAEI,IAAI,CAACqB,KAAK,cAAAzB,WAAA,cAAAA,WAAA,GAAI,EAAE;YACvB0B,WAAW,GAAAzB,iBAAA,GAAEG,IAAI,CAACsB,WAAW,cAAAzB,iBAAA,cAAAA,iBAAA,GAAI,EAAE;YACnC0B,KAAK,EAAEC,MAAM,EAAA1B,WAAA,GAACE,IAAI,CAACuB,KAAK,cAAAzB,WAAA,cAAAA,WAAA,GAAI,CAAC,CAAC;YAC9B2B,OAAO,GAAA1B,aAAA,GAAEC,IAAI,CAACyB,OAAO,cAAA1B,aAAA,cAAAA,aAAA,GAAI,EAAE;YAC3BgB,QAAQ,EAAEf,IAAI,CAACe,QAAQ;YACvBd,MAAM,EAANA,MAAM;YACNO,IAAI,EAAJA;UACF,CAAC;QAAA;UAAA,OAAAE,QAAA,CAAAS,CAAA,IAGI,IAAI;MAAA;IAAA,GAAA7B,OAAA;EAAA,CACZ;EAAA,gBArCKL,gBAAgBA,CAAAyC,EAAA;IAAA,OAAAxC,IAAA,CAAAyC,KAAA,OAAAC,SAAA;EAAA;AAAA,GAqCrB;AAED,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;EAAAC,EAAA;EAAA,IAAAC,iBAAA;EAC9B,IAAAC,UAAA,GAAe/D,SAAS,CAAC,CAAC;IAAlBsB,EAAE,GAAAyC,UAAA,CAAFzC,EAAE;EACV,IAAM0C,QAAQ,GAAG/D,WAAW,CAAC,CAAC;EAC9B,IAAAgE,cAAA,GAAgBtD,aAAa,CAAC,CAAC;IAAvBuD,GAAG,GAAAD,cAAA,CAAHC,GAAG;EACX,IAAMC,UAAU,GAAGC,OAAO,CAACF,GAAG,CAAC;EAE/B,IAAAG,SAAA,GAIInE,QAAQ,CAAiB;MAC3BoE,QAAQ,EAAE,CAAC,SAAS,EAAEhD,EAAE,CAAC;MACzBiD,OAAO,EAAE,SAATA,OAAOA,CAAA;QAAA,OAAQvD,gBAAgB,CAACM,EAAG,CAAC;MAAA;MACpCkD,OAAO,EAAE,CAAC,CAAClD;IACb,CAAC,CAAC;IAPMmD,OAAO,GAAAJ,SAAA,CAAbtC,IAAI;IACJ2C,SAAS,GAAAL,SAAA,CAATK,SAAS;IACTC,KAAK,GAAAN,SAAA,CAALM,KAAK;;EAOP;EACA,IAAAC,SAAA,GAA8C7E,QAAQ,CAEnD,CAAC,CAAC,CAAC;IAAA8E,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAFCG,eAAe,GAAAF,UAAA;IAAEG,kBAAkB,GAAAH,UAAA;EAG1C;EACA,IAAAI,UAAA,GAAwDlF,QAAQ,CAE9D,EAAE,CAAC;IAAAmF,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAFEE,oBAAoB,GAAAD,UAAA;IAAEE,uBAAuB,GAAAF,UAAA;;EAIpD;EACA,IAAMG,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,UAAkB,EAAEC,UAAkB,EAAK;IAAA,IAAAC,gBAAA,EAAAC,qBAAA,EAAAC,iBAAA;IACrE,IAAMC,MAAM,GAAGlB,OAAO,aAAPA,OAAO,wBAAAe,gBAAA,GAAPf,OAAO,CAAEjB,OAAO,cAAAgC,gBAAA,uBAAhBA,gBAAA,CAAkBI,IAAI,CAAC,UAACC,CAAC;MAAA,OAAKA,CAAC,CAAC9C,IAAI,KAAKuC,UAAU;IAAA,EAAC;IACnE,IAAMQ,KAAK,GAAGH,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEI,MAAM,CAACH,IAAI,CAAC,UAACjD,CAAC;MAAA,OAAKA,CAAC,CAACqD,KAAK,KAAKT,UAAU;IAAA,EAAC;IAChE,IAAI,CAACO,KAAK,EAAE;IAEZ,IAAMG,OAAO,GAAAC,aAAA,CAAAA,aAAA,KAAQnB,eAAe,OAAAoB,eAAA,KAAGb,UAAU,EAAGQ,KAAK,EAAE;IAC3Dd,kBAAkB,CAACiB,OAAO,CAAC;IAE3B,IAAMG,WAAW,IAAAX,qBAAA,GACfhB,OAAO,aAAPA,OAAO,wBAAAiB,iBAAA,GAAPjB,OAAO,CAAEjB,OAAO,cAAAkC,iBAAA,uBAAhBA,iBAAA,CAAkBW,KAAK,CAAC,UAACC,GAAG;MAAA,OAAKL,OAAO,CAACK,GAAG,CAACvD,IAAI,CAAC;IAAA,EAAC,cAAA0C,qBAAA,cAAAA,qBAAA,GAAI,KAAK;IAE9D,IAAIW,WAAW,EAAE;MACf,IAAMG,QAAuB,GAAG;QAC9B/C,OAAO,EAAEyC,OAAO;QAChBO,QAAQ,EAAE;MACZ,CAAC;MACDpB,uBAAuB,CAAC,UAACqB,IAAI;QAAA,UAAAC,MAAA,CAAAC,kBAAA,CAASF,IAAI,IAAEF,QAAQ;MAAA,CAAC,CAAC;MACtDvB,kBAAkB,CAAC,CAAC,CAAC,CAAC;IACxB;EACF,CAAC;EAED,IAAM4B,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,KAAa,EAAEC,KAAa,EAAK;IACvD1B,uBAAuB,CAAC,UAACqB,IAAI,EAAK;MAChC,IAAMM,IAAI,GAAAJ,kBAAA,CAAOF,IAAI,CAAC;MACtB,IAAMO,MAAM,GAAGD,IAAI,CAACF,KAAK,CAAC,CAACL,QAAQ,GAAGM,KAAK;MAC3C,IAAIE,MAAM,GAAG,CAAC,EAAED,IAAI,CAACF,KAAK,CAAC,CAACL,QAAQ,GAAGQ,MAAM;MAC7C,OAAOD,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;EAED,IAAME,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIJ,KAAa,EAAK;IAC3CzB,uBAAuB,CAAC,UAACqB,IAAI;MAAA,OAAKA,IAAI,CAACS,MAAM,CAAC,UAACC,CAAC,EAAEC,CAAC;QAAA,OAAKA,CAAC,KAAKP,KAAK;MAAA,EAAC;IAAA,EAAC;EACvE,CAAC;EAED,IAAMQ,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAA,EAAS;IAChC,OAAOlC,oBAAoB,CAACmC,MAAM,CAAC,UAACC,KAAK,EAAEC,KAAK,EAAK;MACnD,IAAMC,IAAI,GAAG,CAAAhD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEnB,KAAK,KAAI,CAAC;MAChC,IAAMoE,KAAK,GAAGC,MAAM,CAAC5B,MAAM,CAACyB,KAAK,CAAChE,OAAO,CAAC,CAAC8D,MAAM,CAC/C,UAACM,GAAG,EAAEC,GAAG;QAAA,OAAKD,GAAG,GAAGC,GAAG,CAACvE,KAAK;MAAA,GAC7B,CACF,CAAC;MACD,OAAOiE,KAAK,GAAG,CAACE,IAAI,GAAGC,KAAK,IAAIF,KAAK,CAAChB,QAAQ;IAChD,CAAC,EAAE,CAAC,CAAC;EACP,CAAC;EAED,IAAMsB,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;IAC5B,IAAI,CAACrD,OAAO,IAAIU,oBAAoB,CAAC4C,MAAM,KAAK,CAAC,EAAE;IAEnD,IAAI,CAAC5D,UAAU,EAAE;MACf6D,YAAY,CAACC,OAAO,CAAC,oBAAoB,EAAEC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAC;MACpEpE,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACF;IAEA,IAAMqE,SAAS,GAAGlD,oBAAoB,CAACmD,GAAG,CAAC,UAACd,KAAK;MAAA,OAAM;QACrD/C,OAAO,EAAPA,OAAO;QACPjB,OAAO,EAAEgE,KAAK,CAAChE,OAAO;QACtBgD,QAAQ,EAAEgB,KAAK,CAAChB;MAClB,CAAC;IAAA,CAAC,CAAC;IAEH,IAAM+B,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACT,YAAY,CAACU,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IACrE,IAAMC,WAAW,MAAAjC,MAAA,CAAAC,kBAAA,CAAO4B,YAAY,GAAA5B,kBAAA,CAAK0B,SAAS,EAAC;IACnDL,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEO,IAAI,CAACI,SAAS,CAACD,WAAW,CAAC,CAAC;IAEzDE,KAAK,CAAC,eAAe,CAAC;IACtB7E,QAAQ,CAAC,OAAO,CAAC;EACnB,CAAC;EAED,IAAM8E,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;IAC5B,IAAI,CAACrE,OAAO,IAAIU,oBAAoB,CAAC4C,MAAM,KAAK,CAAC,EAAE;IAEnDC,YAAY,CAACC,OAAO,CAClB,WAAW,EACXO,IAAI,CAACI,SAAS,CAAC;MACbnE,OAAO,EAAPA,OAAO;MACPsE,YAAY,EAAE5D,oBAAoB;MAClC6D,UAAU,EAAE3B,mBAAmB,CAAC;IAClC,CAAC,CACH,CAAC;IACDrD,QAAQ,CAAC,MAAM,CAAC;EAClB,CAAC;EAED,IAAIU,SAAS,EACX,oBACE7D,OAAA;IAAKoI,SAAS,EAAC,uCAAuC;IAAAC,QAAA,gBACpDrI,OAAA;MAAAqI,QAAA,EAAM;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,GAAAC,KAAM,CAAC,eACvB1I,OAAA,CAACH,UAAU;MAAC8I,KAAK,EAAC,SAAS;MAACC,IAAI,EAAE,EAAG;MAACC,MAAM,EAAE;IAAE;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,GAAAC,KAAE,CAAC;EAAA;IAAAJ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAC,KAChD,CAAC;EAEV,IAAI5E,KAAK,IAAI,CAACF,OAAO,EAAE,oBAAO5D,OAAA;IAAAqI,QAAA,EAAG;EAAoC;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAC,KAAG,CAAC;EAEzE,oBACE1I,OAAA,CAAAE,SAAA;IAAAmI,QAAA,gBACErI,OAAA;MAAKoI,SAAS,EAAC,gDAAgD;MAAAC,QAAA,eAC7DrI,OAAA;QAAKoI,SAAS,EAAC,uBAAuB;QAAAC,QAAA,gBACpCrI,OAAA;UAAKoI,SAAS,EAAC,qBAAqB;UAAAC,QAAA,eAClCrI,OAAA;YACE8I,GAAG,EAAElF,OAAO,CAACtB,KAAM;YACnByG,GAAG,EAAEnF,OAAO,CAACrB,KAAM;YACnB6F,SAAS,EAAC;UAA4B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KACvC;QAAC;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAAC,KACC,CAAC,eAEN1I,OAAA;UAAKoI,SAAS,EAAC,8BAA8B;UAAAC,QAAA,GAC1CzE,OAAO,CAACzC,MAAM,iBACbnB,OAAA;YAAKoI,SAAS,EAAC,uEAAuE;YAAAC,QAAA,gBACpFrI,OAAA;cACE8I,GAAG,EAAElF,OAAO,CAACzC,MAAM,CAACgB,YAAa;cACjC4G,GAAG,EAAEnF,OAAO,CAACzC,MAAM,CAACe,IAAK;cACzBkG,SAAS,EAAC;YAAsB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KACjC,CAAC,eACF1I,OAAA;cAAMoI,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAEzE,OAAO,CAACzC,MAAM,CAACe;YAAI;cAAAoG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAO,CAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KACvD,CACN,eAED1I,OAAA;YAAKoI,SAAS,EAAC,mCAAmC;YAAAC,QAAA,gBAChDrI,OAAA;cAAIoI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAEzE,OAAO,CAACrB;YAAK;cAAA+F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAK,CAAC,eACjD1I,OAAA;cAAKoI,SAAS,EAAC,oBAAoB;cAAAC,QAAA,gBACjCrI,OAAA,CAACP,OAAO;gBAAC2I,SAAS,EAAC;cAAU;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAC,KAAE,CAAC,eAChC1I,OAAA,CAACN,oBAAoB;gBAAC0I,SAAS,EAAC;cAAe;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAC,KAAE,CAAC;YAAA;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAC/C,CAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KACH,CAAC,eAEN1I,OAAA;YAAAqI,QAAA,EAAIzE,OAAO,CAACpB;UAAW;YAAA8F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KAAI,CAAC,eAC5B1I,OAAA;YAAGoI,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GACtCzE,OAAO,CAACnB,KAAK,CAACuG,cAAc,CAAC,CAAC,eAC/BhJ,OAAA;cAAMoI,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAM,CAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KACpC,CAAC,eACJ1I,OAAA;YAAIoI,SAAS,EAAC;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KAAE,CAAC,eAEvB1I,OAAA;YAAQoI,SAAS,EAAC,oEAAoE;YAAAC,QAAA,gBACpFrI,OAAA;cAAAqI,QAAA,EAAQ;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAQ,CAAC,eACzB1I,OAAA;cAAAqI,QAAA,EAAQ;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAQ,CAAC,eAC9B1I,OAAA;cAAAqI,QAAA,EAAQ;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAQ,CAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KAC3B,CAAC,eAET1I,OAAA;YAAGoI,SAAS,EAAC,MAAM;YAAAC,QAAA,GAAC,2BACb,eAAArI,OAAA;cAAMoI,SAAS,EAAC,MAAM;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAM,CAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KACvC,CAAC,eACJ1I,OAAA;YAAGoI,SAAS,EAAC,MAAM;YAAAC,QAAA,GAAC,2BACb,eAAArI,OAAA;cAAMoI,SAAS,EAAC,MAAM;cAAAC,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAM,CAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KAC3C,CAAC,eACJ1I,OAAA;YAAGoI,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAElC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KAAG,CAAC,eAEJ1I,OAAA;YAAKoI,SAAS,EAAC,gEAAgE;YAAAC,QAAA,IAAApF,iBAAA,GAC5EW,OAAO,CAACjB,OAAO,cAAAM,iBAAA,uBAAfA,iBAAA,CAAiBwE,GAAG,CAAC,UAAC3C,MAAM;cAAA,IAAAmE,qBAAA;cAAA,oBAC3BjJ,OAAA;gBAAuBoI,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBAC1CrI,OAAA;kBAAOkJ,OAAO,YAAArD,MAAA,CAAYf,MAAM,CAAC5C,IAAI,CAAG;kBAACkG,SAAS,EAAC,SAAS;kBAAAC,QAAA,EACzDvD,MAAM,CAACK;gBAAK;kBAAAmD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,GAAAC,KACR,CAAC,eACR1I,OAAA;kBACES,EAAE,YAAAoF,MAAA,CAAYf,MAAM,CAAC5C,IAAI,CAAG;kBAC5BkG,SAAS,EAAC,iGAAiG;kBAC3GnD,KAAK,EAAE,EAAAgE,qBAAA,GAAA/E,eAAe,CAACY,MAAM,CAAC5C,IAAI,CAAC,cAAA+G,qBAAA,uBAA5BA,qBAAA,CAA8B9D,KAAK,KAAI,EAAG;kBACjDgE,QAAQ,EAAE,SAAVA,QAAQA,CAAGC,CAAC;oBAAA,OACV5E,kBAAkB,CAACM,MAAM,CAAC5C,IAAI,EAAEkH,CAAC,CAACC,MAAM,CAACpE,KAAK,CAAC;kBAAA,CAChD;kBAAAoD,QAAA,gBAEDrI,OAAA;oBAAQiF,KAAK,EAAC,EAAE;oBAAAoD,QAAA,EAAC;kBAAK;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,GAAAC,KAAQ,CAAC,EAC9B5D,MAAM,CAACI,MAAM,CAACuC,GAAG,CAAC,UAACxC,KAAK;oBAAA,oBACvBjF,OAAA;sBAA0BiF,KAAK,EAAEA,KAAK,CAACE,KAAM;sBAAAkD,QAAA,GAC1CpD,KAAK,CAACE,KAAK,EACXF,KAAK,CAACxC,KAAK,GAAG,CAAC,SAAAoD,MAAA,CACNZ,KAAK,CAACxC,KAAK,CAACuG,cAAc,CAAC,CAAC,eAClC,EAAE;oBAAA,GAJK/D,KAAK,CAACE,KAAK;sBAAAmD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,GAAAC,KAKhB,CAAC;kBAAA,CACV,CAAC;gBAAA;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,GAAAC,KACI,CAAC;cAAA,GArBD5D,MAAM,CAAC5C,IAAI;gBAAAoG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAC,KAsBhB,CAAC;YAAA,CACP,CAAC,EAEDpE,oBAAoB,CAACmD,GAAG,CAAC,UAACd,KAAK,EAAEX,KAAK,EAAK;cAAA,IAAAsD,iBAAA;cAC1C,IAAMC,eAAe,GAAG3F,OAAO,aAAPA,OAAO,wBAAA0F,iBAAA,GAAP1F,OAAO,CAAEjB,OAAO,cAAA2G,iBAAA,uBAAhBA,iBAAA,CACpB7B,GAAG,CAAC,UAAChC,GAAG,EAAK;gBACb,IAAMR,KAAK,GAAG0B,KAAK,CAAChE,OAAO,CAAC8C,GAAG,CAACvD,IAAI,CAAC;gBACrC,UAAA2D,MAAA,CAAUJ,GAAG,CAACN,KAAK,QAAAU,MAAA,CAAKZ,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEE,KAAK;cACtC,CAAC,CAAC,CACDqE,IAAI,CAAC,KAAK,CAAC;cAEd,IAAMC,UAAU,GAAG3C,MAAM,CAAC5B,MAAM,CAACyB,KAAK,CAAChE,OAAO,CAAC,CAAC8D,MAAM,CACpD,UAACM,GAAG,EAAEC,GAAG;gBAAA,OAAKD,GAAG,GAAGC,GAAG,CAACvE,KAAK;cAAA,GAC7B,CACF,CAAC;cACD,IAAMiH,SAAS,GAAG,CAAC,CAAA9F,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEnB,KAAK,KAAI,CAAC,IAAIgH,UAAU;cACpD,IAAMtB,UAAU,GAAGuB,SAAS,GAAG/C,KAAK,CAAChB,QAAQ;cAE7C,oBACE3F,OAAA;gBAEEoI,SAAS,EAAC,mDAAmD;gBAAAC,QAAA,gBAE7DrI,OAAA;kBAAKoI,SAAS,EAAC,mCAAmC;kBAAAC,QAAA,gBAChDrI,OAAA;oBAAAqI,QAAA,EAAIkB;kBAAe;oBAAAjB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,GAAAC,KAAI,CAAC,eACxB1I,OAAA;oBACE,cAAW,cAAI;oBACf2J,OAAO,EAAE,SAATA,OAAOA,CAAA;sBAAA,OAAQvD,iBAAiB,CAACJ,KAAK,CAAC;oBAAA,CAAC;oBACxCoC,SAAS,EAAC,sCAAsC;oBAAAC,QAAA,eAEhDrI,OAAA,CAACL,GAAG;sBAAA2I,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,GAAAC,KAAE;kBAAC;oBAAAJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,GAAAC,KACD,CAAC;gBAAA;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,GAAAC,KACN,CAAC,eAEN1I,OAAA;kBAAKoI,SAAS,EAAC,8CAA8C;kBAAAC,QAAA,gBAC3DrI,OAAA;oBAAKoI,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,gBACtCrI,OAAA;sBACE,cAAW,2BAAO;sBAClB2J,OAAO,EAAE,SAATA,OAAOA,CAAA;wBAAA,OAAQ5D,cAAc,CAACC,KAAK,EAAE,CAAC,CAAC,CAAC;sBAAA,CAAC;sBACzCoC,SAAS,EAAC,0BAA0B;sBAAAC,QAAA,EACrC;oBAED;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,GAAAC,KAAQ,CAAC,eACT1I,OAAA;sBAAMoI,SAAS,EAAC,SAAS;sBAAAC,QAAA,EAAE1B,KAAK,CAAChB;oBAAQ;sBAAA2C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,GAAAC,KAAO,CAAC,eACjD1I,OAAA;sBACE,cAAW,2BAAO;sBAClB2J,OAAO,EAAE,SAATA,OAAOA,CAAA;wBAAA,OAAQ5D,cAAc,CAACC,KAAK,EAAE,CAAC,CAAC;sBAAA,CAAC;sBACxCoC,SAAS,EAAC,0BAA0B;sBAAAC,QAAA,EACrC;oBAED;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,GAAAC,KAAQ,CAAC;kBAAA;oBAAAJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,GAAAC,KACN,CAAC,eAEN1I,OAAA;oBAAGoI,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,GAC5CF,UAAU,CAACa,cAAc,CAAC,CAAC,EAAC,QAC/B;kBAAA;oBAAAV,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,GAAAC,KAAG,CAAC;gBAAA;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,GAAAC,KACD,CAAC;cAAA,MAAA7C,MAAA,CApCE0D,eAAe,OAAA1D,MAAA,CAAIG,KAAK;gBAAAsC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAC,KAqC7B,CAAC;YAEV,CAAC,CAAC,EAEDpE,oBAAoB,CAAC4C,MAAM,GAAG,CAAC,iBAC9BlH,OAAA;cAAGoI,SAAS,EAAC,mCAAmC;cAAAC,QAAA,GAAC,uBACzC,EAAC7B,mBAAmB,CAAC,CAAC,CAACwC,cAAc,CAAC,CAAC,EAAC,QAChD;YAAA;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAG,CACJ;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KACE,CAAC,eAEN1I,OAAA;YAAKoI,SAAS,EAAC,uBAAuB;YAAAC,QAAA,gBACpCrI,OAAA;cACE2J,OAAO,EAAE1C,eAAgB;cACzBmB,SAAS,EAAC,kIAAkI;cAAAC,QAAA,EAC7I;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAQ,CAAC,eACT1I,OAAA;cACE2J,OAAO,EAAE1B,eAAgB;cACzBG,SAAS,EAAC,sGAAsG;cAAAC,QAAA,EACjH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAAQ,CAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KACN,CAAC;QAAA;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAAC,KACH,CAAC;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAC,KACH;IAAC;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,GAAAC,KACH,CAAC,eAEN1I,OAAA,CAACJ,QAAQ;MAACgE,OAAO,EAAEA;IAAQ;MAAA0E,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,GAAAC,KAAE,CAAC;EAAA,eAC9B,CAAC;AAEP,CAAC;AAAC1F,EAAA,CA7RID,iBAAiB;EAAA,QACN5D,SAAS,EACPC,WAAW,EACZU,aAAa,EAOzBT,QAAQ;AAAA;AAAAuK,EAAA,GAVR7G,iBAAiB;AA+RvB,eAAeA,iBAAiB;AAAC,IAAA6G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}